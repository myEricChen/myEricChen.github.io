/*! Max Mega Menu jQuery Plugin */(function(e){"use strict";e.maxmegamenu=function(t,n){var r,c,l,s=this,o=e(t),i=e(t).parent(),a=o.siblings(".mega-menu-toggle"),d={event:o.attr("data-event"),effect:o.attr("data-effect"),effect_speed:parseInt(o.attr("data-effect-speed")),effect_mobile:o.attr("data-effect-mobile"),effect_speed_mobile:parseInt(o.attr("data-effect-speed-mobile")),panel_width:o.attr("data-panel-width"),panel_inner_width:o.attr("data-panel-inner-width"),mobile_force_width:o.attr("data-mobile-force-width"),mobile_overlay:o.attr("data-mobile-overlay"),mobile_state:o.attr("data-mobile-state"),mobile_direction:o.attr("data-mobile-direction"),second_click:o.attr("data-second-click"),vertical_behaviour:o.attr("data-vertical-behaviour"),document_click:o.attr("data-document-click"),breakpoint:o.attr("data-breakpoint"),unbind_events:o.attr("data-unbind"),hover_intent_timeout:o.attr("data-hover-intent-timeout"),hover_intent_interval:o.attr("data-hover-intent-interval")};s.settings={},r=e("li.mega-menu-megamenu.mega-menu-item-has-children,li.mega-menu-flyout.mega-menu-item-has-children,li.mega-menu-tabbed > ul.mega-sub-menu > li.mega-menu-item-has-children,li.mega-menu-flyout li.mega-menu-item-has-children",o),c=e("li.mega-menu-megamenu li.mega-menu-item-has-children.mega-collapse-children > a.mega-menu-link",o),s.addAnimatingClass=function(t){if(s.settings.effect==="disabled")return;e(".mega-animating").removeClass("mega-animating");var n=s.settings.effect_speed+parseInt(s.settings.hover_intent_timeout,10);t.addClass("mega-animating"),setTimeout(function(){t.removeClass("mega-animating")},n)},s.hideAllPanels=function(){e(".mega-toggle-on > a.mega-menu-link",o).each(function(){s.hidePanel(e(this),!1)})},s.expandMobileSubMenus=function(){if(s.settings.mobile_direction!=="vertical")return;if(e(".mega-menu-item-has-children.mega-expand-on-mobile > a.mega-menu-link",o).each(function(){s.showPanel(e(this),!0)}),s.settings.mobile_state=="expand_all"&&e(".mega-menu-item-has-children:not(.mega-toggle-on) > a.mega-menu-link",o).each(function(){s.showPanel(e(this),!0)}),s.settings.mobile_state=="expand_active"){const t=["li.mega-current-menu-ancestor.mega-menu-item-has-children > a.mega-menu-link","li.mega-current-menu-item.mega-menu-item-has-children > a.mega-menu-link","li.mega-current-menu-parent.mega-menu-item-has-children > a.mega-menu-link","li.mega-current_page_ancestor.mega-menu-item-has-children > a.mega-menu-link","li.mega-current_page_item.mega-menu-item-has-children > a.mega-menu-link"];o.find(t.join(", ")).each(function(){s.showPanel(e(this),!0)})}},s.hideSiblingPanels=function(t,n){t.parent().parent().find(".mega-toggle-on").children("a.mega-menu-link").each(function(){s.hidePanel(e(this),n)})},s.isDesktopView=function(){var e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);return e>s.settings.breakpoint},s.isMobileView=function(){return!s.isDesktopView()},s.showPanel=function(t,n){if(e.isNumeric(t)?t=e("li.mega-menu-item-"+t,o).find("a.mega-menu-link").first():t.is("li.mega-menu-item")&&(t=t.find("a.mega-menu-link").first()),t.parent().triggerHandler("before_open_panel"),t.parent().find("[aria-expanded]").first().attr("aria-expanded","true"),e(".mega-animating").removeClass("mega-animating"),s.isMobileView()&&t.parent().hasClass("mega-hide-sub-menu-on-mobile"))return;if(s.isDesktopView()&&(o.hasClass("mega-menu-horizontal")||o.hasClass("mega-menu-vertical"))&&!t.parent().hasClass("mega-collapse-children")&&s.hideSiblingPanels(t,!0),(s.isMobileView()&&i.hasClass("mega-keyboard-navigation")||s.settings.vertical_behaviour==="accordion")&&s.hideSiblingPanels(t,!1),s.calculateDynamicSubmenuWidths(t),s.shouldUseSlideAnimation(t,n)){var a=s.isMobileView()?s.settings.effect_speed_mobile:s.settings.effect_speed;t.siblings(".mega-sub-menu").css("display","none").animate({height:"show",paddingTop:"show",paddingBottom:"show",minHeight:"show"},a,function(){e(this).css("display","")})}t.parent().addClass("mega-toggle-on").triggerHandler("open_panel")},s.shouldUseSlideAnimation=function(e,t){if(t==!0)return!1;if(e.parent().hasClass("mega-collapse-children"))return!0;if(s.isDesktopView()&&s.settings.effect==="slide")return!0;if(s.isMobileView()){if(s.settings.effect_mobile==="slide")return!0;if(s.settings.effect_mobile==="slide_left"||s.settings.effect_mobile==="slide_right")return s.settings.mobile_direction!=="horizontal"}return!1},s.hidePanel=function(t,n){if(e.isNumeric(t)?t=e("li.mega-menu-item-"+t,o).find("a.mega-menu-link").first():t.is("li.mega-menu-item")&&(t=t.find("a.mega-menu-link").first()),t.parent().triggerHandler("before_close_panel"),t.parent().find("[aria-expanded]").first().attr("aria-expanded","false"),s.shouldUseSlideAnimation(t)){var i=s.isMobileView()?s.settings.effect_speed_mobile:s.settings.effect_speed;t.siblings(".mega-sub-menu").animate({height:"hide",paddingTop:"hide",paddingBottom:"hide",minHeight:"hide"},i,function(){t.siblings(".mega-sub-menu").css("display",""),t.parent().removeClass("mega-toggle-on").triggerHandler("close_panel")});return}n&&t.siblings(".mega-sub-menu").css("display","none").delay(s.settings.effect_speed).queue(function(){e(this).css("display","").dequeue()}),t.siblings(".mega-sub-menu").find(".widget_media_video video").each(function(){this.player.pause()}),t.parent().removeClass("mega-toggle-on").triggerHandler("close_panel"),s.addAnimatingClass(t.parent())},s.calculateDynamicSubmenuWidths=function(t){if(t.parent().hasClass("mega-menu-megamenu")&&t.parent().parent().hasClass("max-mega-menu")&&s.settings.panel_width)if(s.isDesktopView()){var n,i,r=o.offset(),a=e(s.settings.panel_width).offset();s.settings.panel_width=="100vw"?(a=e("body").offset(),t.siblings(".mega-sub-menu").css({left:a.left-r.left+"px"})):e(s.settings.panel_width).length>0&&t.siblings(".mega-sub-menu").css({width:e(s.settings.panel_width).outerWidth(),left:a.left-r.left+"px"})}else t.siblings(".mega-sub-menu").css({width:"",left:""});t.parent().hasClass("mega-menu-megamenu")&&t.parent().parent().hasClass("max-mega-menu")&&s.settings.panel_inner_width&&e(s.settings.panel_inner_width).length>0&&(n=0,e(s.settings.panel_inner_width).length?n=parseInt(e(s.settings.panel_inner_width).width(),10):n=parseInt(s.settings.panel_inner_width,10),t.siblings(".mega-sub-menu").css({paddingLeft:"",paddingRight:""}),i=parseInt(t.siblings(".mega-sub-menu").innerWidth(),10),s.isDesktopView()&&n>0&&n<i&&t.siblings(".mega-sub-menu").css({paddingLeft:(i-n)/2+"px",paddingRight:(i-n)/2+"px"}))},s.bindClickEvents=function(){if(i.data("has-click-events")===!0)return;i.data("has-click-events",!0);var n,t=!1;e(document).on({touchmove:function(){t=!0},touchstart:function(){t=!1}}),e(document).on("click touchend",function(n){!t&&s.settings.document_click==="collapse"&&!e(n.target).closest(".mega-menu-wrap").length&&(s.hideAllPanels(),s.hideMobileMenu()),t=!1}),n=e("> a.mega-menu-link",r).add(c),n.on("touchend.megamenu",function(){s.settings.event==="hover_intent"&&s.unbindHoverIntentEvents(),s.settings.event==="hover"&&s.unbindHoverEvents()}),n.on("click.megamenu",function(n){if(e(n.target).hasClass("mega-indicator"))return;if(s.isDesktopView()&&e(this).parent().hasClass("mega-toggle-on")&&e(this).closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")){if(s.settings.second_click==="go")return;n.preventDefault();return}if(t)return;if(s.isMobileView()&&e(this).parent().hasClass("mega-hide-sub-menu-on-mobile"))return;(s.settings.second_click==="go"||e(this).parent().hasClass("mega-click-click-go"))&&e(this).attr("href")!==0[0]?e(this).parent().hasClass("mega-toggle-on")||(n.preventDefault(),s.showPanel(e(this))):(n.preventDefault(),e(this).parent().hasClass("mega-toggle-on")?s.hidePanel(e(this),!1):s.showPanel(e(this)))}),s.settings.second_click==="disabled"&&n.off("click.megamenu"),e(".mega-close-after-click:not(.mega-menu-item-has-children) > a.mega-menu-link",o).on("click",function(){s.hideAllPanels(),s.hideMobileMenu()}),e("button.mega-close",i).on("click",function(){s.hideMobileMenu()})},s.bindHoverEvents=function(){r.on({"mouseenter.megamenu":function(){s.unbindClickEvents(),e(this).hasClass("mega-toggle-on")||s.showPanel(e(this).children("a.mega-menu-link"))},"mouseleave.megamenu":function(){e(this).hasClass("mega-toggle-on")&&!e(this).hasClass("mega-disable-collapse")&&!e(this).parent().parent().hasClass("mega-menu-tabbed")&&s.hidePanel(e(this).children("a.mega-menu-link"),!1)}})},s.bindHoverIntentEvents=function(){r.hoverIntent({over:function(){s.unbindClickEvents(),e(this).hasClass("mega-toggle-on")||s.showPanel(e(this).children("a.mega-menu-link"))},out:function(){e(this).hasClass("mega-toggle-on")&&!e(this).hasClass("mega-disable-collapse")&&!e(this).parent().parent().hasClass("mega-menu-tabbed")&&s.hidePanel(e(this).children("a.mega-menu-link"),!1)},timeout:s.settings.hover_intent_timeout,interval:s.settings.hover_intent_interval})},s.bindKeyboardEvents=function(){var n=9,u=27,c=13,h=37,l=38,m=39,d=40,t=32,f=function(){return s.isMobileView()&&(s.settings.effect_mobile==="slide_right"||s.settings.effect_mobile==="")&&s.settings.mobile_direction==="horizontal"},p=function(){return f()&&(keyCode===l||keyCode===d||keyCode===n)};i.on("keyup.megamenu",".max-mega-menu, .mega-menu-toggle",function(t){var o=t.keyCode||t.which,a=e(t.target);o===n&&(i.addClass("mega-keyboard-navigation"),s.bindClickEvents())}),i.on("keydown.megamenu","a.mega-menu-link, .mega-indicator, .mega-menu-toggle-block, .mega-menu-toggle-animated-block button",function(n){if(!i.hasClass("mega-keyboard-navigation"))return;var v,b,j,y,_,w,O,x,C,E,k,g=n.keyCode||n.which,f=e(n.target);if(g===t&&f.is(".mega-menu-link")&&(n.preventDefault(),f.parent().is(r)&&(f.parent().hasClass("mega-toggle-on")&&!f.closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")?s.hidePanel(f):s.showPanel(f))),g===t&&f.is("mega-indicator")&&(n.preventDefault(),f.parent().parent().hasClass("mega-toggle-on")&&!f.closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")?s.hidePanel(f.parent()):s.showPanel(f.parent())),g===u&&(C=e(".mega-toggle-on",o).length!==0,C&&(w=o.find(":focus"),w.closest(".mega-menu-flyout.mega-toggle-on").length!==0&&(O=w.closest(".mega-toggle-on"),_=e("> a.mega-menu-link",O),s.hidePanel(_),_.focus()),w.closest(".mega-menu-megamenu.mega-toggle-on").length!==0&&(O=w.closest(".mega-menu-megamenu.mega-toggle-on"),_=e("> a.mega-menu-link",O),s.hidePanel(_),_.focus())),s.isMobileView()&&!C&&(s.hideMobileMenu(),e(".mega-menu-toggle-block, button.mega-toggle-animated",a).first().focus())),(g===t||g===c)&&f.is(".mega-menu-toggle-block, .mega-menu-toggle-animated-block button")&&(n.preventDefault(),a.hasClass("mega-menu-open")?s.hideMobileMenu():s.showMobileMenu()),g===c){if(f.is(".mega-indicator")){f.closest("li.mega-menu-item").hasClass("mega-toggle-on")&&!f.closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")?s.hidePanel(f.parent()):s.showPanel(f.parent());return}if(f.parent().is(r)){if(s.isMobileView()&&f.parent().is(".mega-hide-sub-menu-on-mobile"))return;if(f.is("[href]")===!1){f.parent().hasClass("mega-toggle-on")&&!f.closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")?s.hidePanel(f):s.showPanel(f);return}if(f.parent().hasClass("mega-toggle-on")&&!f.closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed"))return;n.preventDefault(),s.showPanel(f)}}if(p()){if(b=e(":focus",o),b.length===0){n.preventDefault(),e("> li.mega-menu-item:visible",o).find("> a.mega-menu-link, .mega-search span[role=button]").first().focus();return}v=b.parent().nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").first(),v.length===0&&b.closest(".mega-menu-megamenu").length!==0&&(x=b.parentsUntil(".mega-menu-megamenu"),b.is(x.find("a.mega-menu-link").last())&&(v=x.find(".mega-back-button:visible > a.mega-menu-link").first())),v.length===0&&(v=b.parent().prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").first()),v.length!==0&&(n.preventDefault(),v.focus())}E=function(){return(g===m&&s.isDesktopView()||g===d&&s.isMobileView())&&o.hasClass("mega-menu-horizontal")},k=function(){return(g===h&&s.isDesktopView()||g===l&&s.isMobileView())&&o.hasClass("mega-menu-horizontal")},E()&&(n.preventDefault(),y=e("> .mega-toggle-on",o).nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").first(),y.length===0&&(y=e(":focus",o).parent().nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").first()),y.length===0&&(y=e(":focus",o).parent().parent().parent().nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").first()),s.hideAllPanels(),y.focus()),k()&&(n.preventDefault(),j=e("> .mega-toggle-on",o).prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").last(),j.length===0&&(j=e(":focus",o).parent().prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").last()),j.length===0&&(j=e(":focus",o).parent().parent().parent().prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search span[role=button]").last()),s.hideAllPanels(),j.focus())}),i.on("focusout.megamenu",function(){i.hasClass("mega-keyboard-navigation")&&setTimeout(function(){var e=i.find(":focus").length>0;e||(i.removeClass("mega-keyboard-navigation"),s.hideAllPanels(),s.hideMobileMenu())},10)})},s.unbindAllEvents=function(){e("ul.mega-sub-menu, li.mega-menu-item, li.mega-menu-row, li.mega-menu-column, a.mega-menu-link, .mega-indicator",o).off().unbind()},s.unbindClickEvents=function(){if(i.hasClass("mega-keyboard-navigation"))return;e("> a.mega-menu-link",r).not(c).off("click.megamenu touchend.megamenu"),i.data("has-click-events",!1)},s.unbindHoverEvents=function(){r.off("mouseenter.megamenu mouseleave.megamenu")},s.unbindHoverIntentEvents=function(){r.off("mouseenter mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s")},s.unbindKeyboardEvents=function(){i.off("keyup.megamenu keydown.megamenu focusout.megamenu")},s.unbindMegaMenuEvents=function(){s.settings.event==="hover_intent"&&s.unbindHoverIntentEvents(),s.settings.event==="hover"&&s.unbindHoverEvents(),s.unbindClickEvents(),s.unbindKeyboardEvents()},s.bindMegaMenuEvents=function(){s.unbindMegaMenuEvents(),s.isDesktopView()&&s.settings.event==="hover_intent"&&s.bindHoverIntentEvents(),s.isDesktopView()&&s.settings.event==="hover"&&s.bindHoverEvents(),s.bindClickEvents(),s.bindKeyboardEvents()},s.checkWidth=function(){s.isMobileView()&&o.data("view")==="desktop"&&s.switchToMobile(),s.isDesktopView()&&o.data("view")==="mobile"&&s.switchToDesktop(),s.calculateDynamicSubmenuWidths(e("> li.mega-menu-megamenu > a.mega-menu-link",o))},s.reverseRightAlignedItems=function(){!e("body").hasClass("rtl")&&o.hasClass("mega-menu-horizontal")&&o.css("display")!=="flex"&&o.append(o.children("li.mega-item-align-right").get().reverse())},s.addClearClassesToMobileItems=function(){e(".mega-menu-row",o).each(function(){e("> .mega-sub-menu > .mega-menu-column:not(.mega-hide-on-mobile)",e(this)).filter(":even").addClass("mega-menu-clear")})},s.initDesktop=function(){o.data("view","desktop"),s.bindMegaMenuEvents(),s.initIndicators()},s.initMobile=function(){s.switchToMobile()},s.switchToDesktop=function(){o.data("view","desktop"),s.bindMegaMenuEvents(),s.reverseRightAlignedItems(),s.hideAllPanels(),s.hideMobileMenu(!0)},s.switchToMobile=function(){o.data("view","mobile"),s.bindMegaMenuEvents(),s.initIndicators(),s.reverseRightAlignedItems(),s.addClearClassesToMobileItems(),s.hideAllPanels(),s.expandMobileSubMenus()},s.initToggleBar=function(){a.on("click",function(t){e(t.target).is(".mega-menu-toggle, .mega-menu-toggle-custom-block *, .mega-menu-toggle-block, .mega-menu-toggle-animated-block, .mega-menu-toggle-animated-block *, .mega-toggle-blocks-left, .mega-toggle-blocks-center, .mega-toggle-blocks-right, .mega-toggle-label, .mega-toggle-label span")&&(t.preventDefault(),e(this).hasClass("mega-menu-open")?s.hideMobileMenu():s.showMobileMenu())})},s.initIndicators=function(){o.off("click.megamenu",".mega-indicator"),o.on("click.megamenu",".mega-indicator",function(t){t.preventDefault(),t.stopPropagation(),e(this).closest(".mega-menu-item").hasClass("mega-toggle-on")?(!e(this).closest("ul.mega-sub-menu").parent().hasClass("mega-menu-tabbed")||s.isMobileView())&&s.hidePanel(e(this).parent(),!1):s.showPanel(e(this).parent(),!1)})},s.hideMobileMenu=function(t){if(t=t,!a.is(":visible")&&!t)return;l=setTimeout(function(){e("body").removeClass(o.attr("id")+"-mobile-open"),e("html").removeClass(o.attr("id")+"-off-canvas-open")},s.settings.effect_speed_mobile),e(".mega-toggle-label, .mega-toggle-animated",a).attr("aria-expanded","false"),s.settings.effect_mobile==="slide"&&!t?o.animate({height:"hide"},s.settings.effect_speed_mobile,function(){o.css({width:"",left:"",display:""}),a.removeClass("mega-menu-open")}):(o.css({width:"",left:"",display:""}),a.removeClass("mega-menu-open")),o.triggerHandler("mmm:hideMobileMenu")},s.showMobileMenu=function(){if(!a.is(":visible"))return;clearTimeout(l),e("body").addClass(o.attr("id")+"-mobile-open"),s.expandMobileSubMenus(),(s.settings.effect_mobile==="slide_left"||s.settings.effect_mobile==="slide_right")&&e("html").addClass(o.attr("id")+"-off-canvas-open"),e(".mega-toggle-label, .mega-toggle-animated",a).attr("aria-expanded","true"),s.settings.effect_mobile==="slide"&&o.animate({height:"show"},s.settings.effect_speed_mobile,function(){e(this).css("display","")}),a.addClass("mega-menu-open"),s.toggleBarForceWidth(),o.triggerHandler("mmm:showMobileMenu")},s.toggleBarForceWidth=function(){if(e(s.settings.mobile_force_width).length&&(s.settings.effect_mobile==="slide"||s.settings.effect_mobile==="disabled")){var t=a.offset(),n=e(s.settings.mobile_force_width).offset();o.css({width:e(s.settings.mobile_force_width).outerWidth(),left:n.left-t.left+"px"})}},s.doConsoleChecks=function(){s.settings.mobile_force_width!="false"&&!e(s.settings.mobile_force_width).length&&(s.settings.effect_mobile==="slide"||s.settings.effect_mobile==="disabled")&&console.warn("Max Mega Menu #"+i.attr("id")+": Mobile Force Width element ("+s.settings.mobile_force_width+") not found");const t=/^((\d+(\.\d+)?(px|%|em|rem|vw|vh|ch|ex|cm|mm|in|pt|pc))|auto)$/i;s.settings.panel_width!==0[0]&&!t.test(s.settings.panel_width)&&!e(s.settings.panel_width).length&&console.warn("Max Mega Menu #"+i.attr("id")+": Panel Width (Outer) element ("+s.settings.panel_width+") not found"),s.settings.panel_inner_width!==0[0]&&!t.test(s.settings.panel_inner_width)&&!e(s.settings.panel_inner_width).length&&console.warn("Max Mega Menu #"+i.attr("id")+": Panel Width (Inner) element ("+s.settings.panel_inner_width+") not found")},s.init=function(){o.triggerHandler("before_mega_menu_init"),s.settings=e.extend({},d,n),window.console&&s.doConsoleChecks(),o.removeClass("mega-no-js"),s.initToggleBar(),s.settings.unbind_events==="true"&&s.unbindAllEvents(),e(window).on("load",function(){s.calculateDynamicSubmenuWidths(e("> li.mega-menu-megamenu > a.mega-menu-link",o))}),s.isDesktopView()?s.initDesktop():s.initMobile(),e(window).on("resize",function(){s.checkWidth()}),o.triggerHandler("after_mega_menu_init")},s.init()},e.fn.maxmegamenu=function(t){return this.each(function(){if(0[0]===e(this).data("maxmegamenu")){var n=new e.maxmegamenu(this,t);e(this).data("maxmegamenu",n)}})},e(function(){e(".max-mega-menu").maxmegamenu()})})(jQuery)